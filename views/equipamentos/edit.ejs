<% layout('layout') %>

<style>
  .wrap{ max-width:900px; margin:0 auto; }
  .card{ background:#fff; border:1px solid #e5e7eb; border-radius:16px; padding:16px; box-shadow:0 10px 26px rgba(0,0,0,.06); }
  .grid{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
  .fg{ display:flex; flex-direction:column; gap:6px; }
  .fg label{ font-size:12px; font-weight:900; color:#6b7280; }
  .fg input, .fg select, .fg textarea{ border:1px solid #e5e7eb; border-radius:12px; padding:10px 12px; font-weight:700; }
  .btn{ display:inline-block; padding:10px 12px; border-radius:12px; border:1px solid #e5e7eb; background:#fff; text-decoration:none; font-weight:900; color:#111827; }
  .btn.primary{ background:#0b6b3a; border-color:#0b6b3a; color:#fff; }
  @media(max-width:900px){ .grid{ grid-template-columns:1fr; } }
</style>

<div class="wrap">
  <h1>Editar Equipamento</h1>
  <p style="color:#6b7280;margin-top:-6px;">#<%= item.id %> • Criado em <%= fmtBR(item.created_at) %></p>

  <form method="POST" action="/equipamentos/<%= item.id %>">
    <div class="card">
      <div class="grid">
        <div class="fg">
          <label>Código</label>
          <input name="codigo" value="<%= item.codigo || '' %>" />
        </div>

        <div class="fg">
          <label>Status</label>
          <select name="status">
            <option value="ATIVO" <%= item.status==="ATIVO" ? "selected" : "" %>>ATIVO</option>
            <option value="INATIVO" <%= item.status==="INATIVO" ? "selected" : "" %>>INATIVO</option>
          </select>
        </div>

        <div class="fg" style="grid-column:1/-1;">
          <label>Nome *</label>
          <input name="nome" required value="<%= item.nome %>" />
        </div>

        <div class="fg">
          <label>Setor *</label>
          <select name="setor" required>
            <option value="DIGESTORES" <%= item.setor==="DIGESTORES" ? "selected" : "" %>>DIGESTORES</option>
            <option value="CALDEIRAS" <%= item.setor==="CALDEIRAS" ? "selected" : "" %>>CALDEIRAS</option>
            <option value="PRENSAS" <%= item.setor==="PRENSAS" ? "selected" : "" %>>PRENSAS</option>
            <option value="MOAGEM" <%= item.setor==="MOAGEM" ? "selected" : "" %>>MOAGEM</option>
            <option value="UTILIDADES" <%= item.setor==="UTILIDADES" ? "selected" : "" %>>UTILIDADES</option>
          </select>
        </div>

        <div class="fg">
          <label>Localização</label>
          <input name="localizacao" value="<%= item.localizacao || '' %>" />
        </div>

        <div class="fg" style="grid-column:1/-1;">
          <label>Observação</label>
          <textarea name="observacao" rows="3"><%= item.observacao || '' %></textarea>
        </div>
      </div>

      <div style="display:flex; gap:10px; margin-top:14px;">
        <a class="btn" href="/equipamentos">Voltar</a>
        <button class="btn primary" type="submit">Salvar</button>
      </div>
    </div>
  </form>
</div>
