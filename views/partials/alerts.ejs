<%
  const success = (flash?.success || []).filter(Boolean);
  const error = (flash?.error || []).filter(Boolean);
%>

<style>
  .alerts{ display:flex; flex-direction:column; gap:10px; margin-bottom: 12px; }
  .alert{
    border-radius:14px;
    padding:10px 12px;
    border:1px solid #e5e7eb;
    background:#fff;
    box-shadow: 0 8px 18px rgba(0,0,0,.04);
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:10px;
  }
  .alert-success{ border-color:#bbf7d0; background:#ecfdf5; color:#065f46; }
  .alert-error{ border-color:#fecaca; background:#fef2f2; color:#991b1b; }
  .alert-title{ font-weight:900; }
  .alert-msg{ font-weight:700; }
  .alert-close{
    border:0;
    background:transparent;
    cursor:pointer;
    font-weight:900;
    opacity:.7;
    color:inherit;
  }
</style>

<div class="alerts" id="alerts">
  <% success.forEach((m) => { %>
    <div class="alert alert-success">
      <div>
        <div class="alert-title">Sucesso</div>
        <div class="alert-msg"><%= m %></div>
      </div>
      <button class="alert-close" onclick="this.parentElement.remove()">✕</button>
    </div>
  <% }) %>

  <% error.forEach((m) => { %>
    <div class="alert alert-error">
      <div>
        <div class="alert-title">Atenção</div>
        <div class="alert-msg"><%= m %></div>
      </div>
      <button class="alert-close" onclick="this.parentElement.remove()">✕</button>
    </div>
  <% }) %>
</div>
